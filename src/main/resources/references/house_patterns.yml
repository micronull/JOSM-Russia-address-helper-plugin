# housenumber - номер дома
patterns:
  #- ',\s*(?:д.*?)?\s+(?<housenumber>\d.*)' # обл. Свердловская, г. Екатеринбург, ул. Ленина, дом 1
  #- ',?\s*(?:д?.*?)?\s?(?<housenumber>\d.*)$' #более генерик парсер номера дома, толерантный к пробелам
  #- '(,|\s{2,})(?:д?.*?)?\s?(?<housenumber>\d[A-Яа-я0-9-" \/\\]*)+.?$' #более специфичный парсер
  # регулярка понимающая строения. А надо еще корпуса, помещения и квартиры (так же - дома на два хозяина)
  # примеры не поддерживаемые этой регуляркой:
  #		 Красноярский край, г.Минусинск, ул. Абаканская, 51, пом. 6 <- помещение лезет в номер дома
  #		 Красноярский край, г.Минусинск, ул. Советская, 92, пом.3
  #		 Красноярский край, г.Минусинск, ул.Свердлова, 1 - 3,4   <- квартиры лезут в номер дома
  # TO DO: ограничение букв в литере до 3-х (чтобы не ловило "улица 9 Января" как номер с литерой)
  #- '(,|\s{2,})(?:д?.*?)?\s?(?<housenumber>\d+[A-Яа-я" \/\\]{0,3}\d{0,3}((-|-")[A-Яа-я])?)+(,\s*?(?<letter>([А-Яа-я])))?((?:,?\s*(?:строение|стр|строен|соор|сооружение)\.?\s*)(?<building>\d[A-Яа-я0-9-" \/\\]*))?(?:((?:,?\s*(?:корп.|корпус)\s*)(?<corpus>\d{1,2}))*)(?<flat1>\s?-\s?\d{1,3}(?:\s?,\s?\d{1,3})*)?((?:,?\s*(?:квартир(а)?|кв)\.?\s*)(№)?(?<flat2>\d{1,3}(?:\s?,\s?\d{1,3})*))?(?<room>((?:,?\s*(?:помещени.|пом)\.?\s*)(\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*).?(?:((?:,?\s*(?:часть)\.?\s*)(№?\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*).?$'
  #эта регулярка не парсит адрес без разделителя перед "д.", "типа обл. Московская р-н Мытищинский Сухаревский с.о. д. Шолохово д. 35"
  #- '(,|\s{2,})(?:д?.*?)?\s?(?<housenumber>\d+[A-Яа-я" \/\\]{0,3}\d{0,3}((-|-")[A-Яа-я])?)+(,\s*?(?<letter>([А-Яа-я])))?((?:,?\s*(?:строение|стр|строен|соор|сооружение)\.?\s*)(?<building>\d[A-Яа-я0-9-" \/\\]*))?(?:((?:,?\s*(?:корп.|корпус)\s*)(?<corpus>\d{1,2}))*)(?<flat1>\s?-\s?\d{1,3}(?:\s?,\s?\d{1,3})*)?((?:,?\s*(?:квартир(а)?|кв)\.?\s*)(№)?(?<flat2>\d{1,3}(?:\s?,\s?\d{1,3})*))?(?<room>((?:,?\s*(?:помещени.|пом)\.?\s*)(\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*).?(?:((?:,?\s*(?:часть|уч)\.?\s*)(№?\s?\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*)$'
  #- '(,|\s)(?:д?.*?)?\s?(?<housenumber>\d+[A-Яа-я" \/\\]{0,3}\d{0,3}((-|-")[A-Яа-я])?)+(,\s*?(?<letter>([А-Яа-я])))?((?:,?\s*(?:строение|стр|строен|соор|сооружение)\.?\s*)(?<building>\d[A-Яа-я0-9-" \/\\]*))?(?:((?:,?\s*(?:корп\.|к\.|корпус)\s*)(?<corpus>\d{1,2}))*)(?<flat1>\s?-\s?\d{1,3}(?:\s?,\s?\d{1,3})*)?((?:,?\s*(?:квартир(а)?|кв)\.?\s*)(№)?(\s)?(?<flat2>\d{1,3}(?:\s?,\s?\d{1,3})*))?(?<room>((?:,?\s*(?:помещени.|пом)\.?\s*)(\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*).?(?:((?:,?\s*(?:часть|уч)\.?\s*)(№?\s?\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*)$'
  #- '(,|\s)(?<tag>д?.*?)?\s?(?<housenumber>\d+[A-Яа-я" \/\\]{0,3}\d{0,3}((-|-")[A-Яа-я])?)+(,?\s*?"?(?<letter>([А-Яа-я]))"?)?((?:,?\s*(?:строение|стр|строен|соор|сооружение)\.?\s*№?\s?)(?<building>\d[A-Яа-я0-9-" \/\\]*))?(?:((?:,?\s*(?:корп|к|корпус|кор)(\.|\s*)№?\s?)(?<corpus>\d{1,2}))*)(?<flat1>\s?-\s?\d{1,3}(?:\s?,\s?\d{1,3})*)?((?:,?\s*(?:квартир(а)?|кв)\.?\s*№?\s?)(?<flat2>\d{1,3}(?:\s?,\s?\d{1,3})*))?(?<room>((?:,?\s*(?:помещени.|пом)\.?\s*№?\s?)(\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*).?(?:((?:,?\s*(?:часть|уч|блок)\.?\s*№?\s?)(№?\s?\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*)$'
  #- '(,|\s)(?<tag>дом\s|д.|д\s)?\s?№?(?<housenumber>\d+[A-Яа-я" \/\\]{0,1}\d{0,3}((-|-")[A-Яа-я])?)+(,?\s*?"?(?<letter>([А-Яа-я]))"?)?((?:,?\s*(?:строение|стр|строен|соор|сооружение)\.?\s*№?\s?)(?<building>\d[A-Яа-я0-9-" \/\\]*))?(?:((?:,?\s*(?:корп|к|корпус|кор)(\.|\s*)№?\s?)(?<corpus>\d{1,2}))*)(?<flat1>\s?-\s?\d{1,3}(?:\s?,\s?\d{1,3})*)?((?:,?\s*(?:квартир(а)?|кв)\.?\s*№?\s?)(?<flat2>\d{1,3}(?:\s?,\s?\d{1,3})*))?(?<room>((?:,?\s*(?:помещени.|пом)\.?\s*№?\s?)(\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*).?(?:((?:,?\s*(?:часть|уч|блок)\.?\s*№?\s?)(№?\s?\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*)$'
  #-  (,|\s)(?<tag>дом\s|д.|д\s)?\s?№?(?<housenumber>\d+[A-Яа-я" \/\\]{0,1}\d{0,3}((-|-")[A-Яа-я])?)+(,?\s*?["«]?(?<letter>([А-Яа-я]))["»]?)?((?:,?\s*(?:строение|стр|строен|соор|сооружение)\.?\s*№?\s?)(?<building>\d[A-Яа-я0-9-" \/\\]*))?(?:((?:,?\s*(?:корп|к|корпус|кор)(\.|\s*)№?\s?)(?<corpus>\d{1,2}))*)(?<flat1>\s?-\s?\d{1,3}(?:\s?,\s?\d{1,3})*)?((?:,?\s*(?:квартир(а)?|кв)\.?\s*№?\s?)(?<flat2>\d{1,3}(?:\s?,\s?\d{1,3})*))?(?<room>((?:,?\s*(?:помещени.|пом)\.?\s*№?\s?)(\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*).?(?:((?:,?\s*(?:часть|уч|блок)\.?\s*№?\s?)(№?\s?\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*)$
  # попытка распознавать адреса со словом литера
  - (,|\s)(?<tag>дом\s|д.|д\s)?\s?№?(?<housenumber>\d+[A-Яа-я" \/\\]{0,1}\d{0,3}((-|-")[A-Яа-я])?)+(,?\s*?(?:(?:литера|лит)\.?\s*№?\s?)?["«]?(?<letter>([А-Яа-я]))["»]?)?((?:,?\s*(?:строение|стр|строен|соор|сооружение)\.?\s*№?\s?)(?<building>\d[A-Яа-я0-9-" \/\\]*))?(?:((?:,?\s*(?:корп|к|корпус|кор)(\.|\s*)№?\s?)(?<corpus>\d{1,2}))*)(?<flat1>\s?-\s?\d{1,3}(?:\s?,\s?\d{1,3})*)?((?:,?\s*(?:квартир(а)?|кв)\.?\s*№?\s?)(?<flat2>\d{1,3}(?:\s?,\s?\d{1,3})*))?(?<room>((?:,?\s*(?:помещени.|пом)\.?\s*№?\s?)(\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*).?(?:((?:,?\s*(?:часть|уч|блок)\.?\s*№?\s?)(№?\s?\d{1,3}\s*(?:\s*,\s?\d{1,3})*))*)$